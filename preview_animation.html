<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>アニメーション画像作成</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <h1>アニメーション画像作成フォーム</h1>

<form id="anim-form" method="post"  enctype="multipart/form-data">
    <input type="file" id="anim-image" name="image" accept="image/*" required>
   
<div class="field">
  <div class="variant-group" role="group" aria-label="画像サイズを決定">
    <input id="variant-main"  type="radio" name="variant" value="main" checked>
    <label for="variant-main">メイン画像</label>

    <input id="variant-stamp" type="radio" name="variant" value="stamp">
    <label for="variant-stamp">スタンプ画像</label>
  </div>
  <small>肖像権には、十分お気を付けください</small>
</div>

<input type="hidden" name="anim_type" id="anim_type">

  <div class="anim-btn-container">
    <button type="button" class="anim-btn" data-value="pulsing">ぷるぷる</button>
    <button type="button" class="anim-btn" data-value="slidein">スライドイン</button>
    <button type="button" class="anim-btn" data-value="bounce">バウンド</button>
    <button type="button" class="anim-btn" data-value="blur">ぼかし</button>
    <button type="button" class="anim-btn" data-value="rotate">回転</button>
    <button type="button" class="anim-btn" data-value="popup">ポップアップ</button>
    <button type="button" class="anim-btn" data-value="fade">フェード</button>
    <button type="button" class="anim-btn" data-value="flash">点滅</button>
  </div>
    <input type="text" id="anim-text" name="text" placeholder="スタンプに追加するテキスト" required>

    <button type="submit">アニメーション画像を作成</button>
    <!-- アニメーション作成フォームのすぐ下に追加 -->
<div id="loading-message" style="display: none; color: red; font-weight: bold;">
  スタンプを作成中です。しばらくお待ちください…
</div>

</form>
<hr>

    <h2>生成されたアニメーション画像</h2>
    <img id="preview-image" src="" alt="プレビュー画像" style="max-width: 100%; display: none;">
    <a id="download-link" href="#" download="animated_stamp.apng" style="display: none;">
  📥 ダウンロード
</a>


    <!-- 外部 JavaScript を読み込む例 -->
  <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>